---
title: 'Create Extraction'
description: 'Extract data from an unstructured source using a schema'
---

# Create Extraction

Extract structured data from unstructured sources like images, PDFs, text, or webpages using a predefined schema.

## API Request

```bash
POST https://withflora.io/v1/extractions
```

## Headers

<ParamField header="Authorization" required>
  Bearer YOUR_FLORA_API_KEY
</ParamField>

<ParamField header="Content-Type" required>
  multipart/form-data
</ParamField>

## Body Parameters

<ParamField body="schema_id" type="string" required>
  The unique identifier of the schema to use for extraction
</ParamField>

<ParamField body="type" type="string" required>
  The type of input source. Must be one of:
  - `text`: Raw text content
  - `image`: Image URL
  - `pdf`: PDF URL
  - `webpage`: Web page URL
</ParamField>

<ParamField body="source" type="string" required>
  The source content to extract data from. Based on the `type`:
  - For `text`: The actual text content
  - For `image`: A valid and accessible image URL
  - For `pdf`: A valid and accessible PDF URL
  - For `webpage`: A valid and accessible webpage URL
</ParamField>

<ParamField body="instruction" type="string">
  Optional instruction to guide the extraction process. Can specify the model to use:
  - `gpt-4o`: More accurate but slower
  - `gpt-4o-mini`: Faster but less accurate
</ParamField>

## Response

<ResponseField name="status" type="boolean">
  Indicates if the request was successful
</ResponseField>

<ResponseField name="message" type="string">
  A message describing the result
</ResponseField>

<ResponseField name="data" type="object">
  <Expandable title="properties">
    <ResponseField name="id" type="string">
      Unique identifier for the extraction
    </ResponseField>
    <ResponseField name="output" type="object">
      The extracted data matching the schema structure
    </ResponseField>
    <ResponseField name="totalTokens" type="number">
      Number of tokens used in the extraction
    </ResponseField>
  </Expandable>
</ResponseField>

<RequestExample>
```bash
# Extract data from a webpage
curl --request POST \
  --url 'https://withflora.io/v1/extractions' \
  --header 'Authorization: Bearer YOUR_FLORA_API_KEY' \
  --header 'Content-Type: multipart/form-data' \
  --form 'schema_id=00f9190e-9a4a-4e08-ba00-f888437ed3c4' \
  --form 'type=webpage' \
  --form 'source=https://techcrunch.com' \
  --form 'instruction=Extract the top 10 articles'

# Extract data from an image
curl --request POST \
  --url 'https://withflora.io/v1/extractions' \
  --header 'Authorization: Bearer YOUR_FLORA_API_KEY' \
  --header 'Content-Type: multipart/form-data' \
  --form 'schema_id=ec9cb821-6f69-4605-a7fc-0858667eb534' \
  --form 'type=image' \
  --form 'source=https://example.com/receipt.jpg'
```
</RequestExample>

<ResponseExample>
```json
{
  "status": true,
  "message": "Extraction completed successfully",
  "data": {
    "id": "cfb09fb3-d98a-4e65-bf8b-9e962593617f",
    "output": [
      {
        "link": "https://techcrunch.com/michael-seibel-leaving-y-combinator",
        "summary": "Michael Seibel announced his departure from Y Combinator, marking an end to his tenure at the influential startup accelerator.",
        "title": "Michael Seibel is leaving Y Combinator"
      },
      {
        "link": "https://techcrunch.com/chatgpt-defamation-privacy-complaint",
        "summary": "OpenAI's ChatGPT faces a privacy complaint regarding its alleged generation of defamatory content through AI hallucinations.",
        "title": "ChatGPT hit with privacy complaint over defamatory hallucinations"
      }
    ],
    "totalTokens": 27689
  }
}
```
</ResponseExample>
